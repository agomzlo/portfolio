---
import Download from "../icons/Download.astro";
import Hamburguer from "../icons/Hamburguer.astro";
import Close from "../icons/Close.astro";
---

<header class="fixed top-0 left-0 right-0 flex flex-row justify-center items-center z-50 w-full py-5 px-2.5 header-reveal">
    <div class="max-w-[1200px] size-full flex justify-between items-center">
        <a href="/" class="size-16 flex items-center"><img src="/logo.svg" alt="Logo"></a>
        <nav class="lg:flex gap-5 items-center hidden">
            <a href="#hero" class="text-text text-xl hover:text-title">Inicio</a>
            <a href="#about" class="text-text text-xl hover:text-title">Sobre Mi</a>
            <a href="#projects" class="text-text text-xl hover:text-title">Proyectos</a>
            <a href="#contact" class="text-text text-xl hover:text-title">Contacto</a>
            <a href="/CV-Alejandro-Gomez.pdf" target="_blank" class="bg-text text-xl hover:bg-title flex items-center gap-2 px-2 py-1 rounded-lg">CV <Download class="size-5" /></a>
        </nav> 
        <button class="block lg:hidden" id="menu-button">
            <Hamburguer id="hamburguer" class="size-8 text-text hamburguer-icon" />
            <Close id="close" class="size-8 text-text hidden close-icon" />
        </button>
    </div>
</header>

<script>
    const hamburguerIcon = document.querySelector('.hamburguer-icon') as HTMLButtonElement;
    const closeIcon = document.querySelector('.close-icon') as HTMLButtonElement;
    const menuButton = document.querySelector('#menu-button') as HTMLButtonElement;
    const menu = document.querySelector('#menu-dialog') as HTMLDialogElement;
    const html = document.querySelector('html') as HTMLHtmlElement;
    menuButton.addEventListener('click', () => {
        menuButton.setAttribute('aria-modal', 'true');
        menu.open = !menu.open;
        html.classList.toggle('overflow-hidden');
        hamburguerIcon.classList.toggle('hidden');
        closeIcon.classList.toggle('hidden');
    });
    menu.addEventListener('close', () => {
        menuButton.setAttribute('aria-modal', 'false');
        html.classList.remove('overflow-hidden');
        hamburguerIcon.classList.toggle('hidden');
        closeIcon.classList.toggle('hidden');
    });
</script>